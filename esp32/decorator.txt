from drohnev2.functools import wraps

def command(cmd_type='public'):
    def actual_decorator(func):
        @wraps(func)
        def wrapper(self, passed_type, connection, address, *args):
            if cmd_type == passed_type:
                return func(self, connection, address, *args)
            else:
                print(f'permission denied at {passed_type}')
        return wrapper
    return actual_decorator
