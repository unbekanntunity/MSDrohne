#:kivy 2.0.0

<RoundedButton>:
    btn_color_not_pressed: [.5, .5, .5, 1]
    btn_color_pressed: [.25, .25, .25, 1]

    background_color: (0,0,0,0)
	background_normal: ''
	canvas.before:
		Color:
            rgba: self.btn_color_not_pressed if self.state=='normal' else self.btn_color_pressed
		RoundedRectangle:
			size: self.size
			pos: self.pos
			radius: [20]


<StartScreen>:
    name: 'start'
    BoxLayout:
        orientation: 'vertical'
        padding: 50

        Label:
            text: 'Simple DCA'
            font_size: '80'

        BoxLayout:
            orientation: 'vertical'
            spacing: 40
            padding: root.width / 4, 20, root.width / 4, 20
            RoundedButton:
                text: 'Find Device'
                on_release: app.root.ids.sm.current = 'connection'
            RoundedButton:
                text: "Goodbye World!"
                on_release: print("Bye")

<ConnectionScreen>:
    name: 'connection'
    connections: connection_list
    status: status_label
    scrollview: scroll_view
    AnchorLayout:
        padding: root.width / 5
        BoxLayout:
            orientation: 'vertical'
            spacing: 0
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 0.2
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [20]
            Label:
                text: 'Connections'
                height: self.texture_size[1]
                size_hint_y: None
                font_size: '50'
            ScrollView:
                id: scroll_view
                BoxLayout:
                    id: connection_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
            Label:
                id: status_label
                size_hint_y: None
                height: 0
                canvas.before:
                    Color:
                        rgba: .5, .5, .5, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height

<SelectableRow>
    name: name_field
    power: power_field

    size_hint_y: None
    height: name_field.texture_size[1] + 10
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    Label:
        id: name_field
    Label:
        id: power_field

<ControlScreen>:
    name: 'control'
    BoxLayout:
        Label:
            text: 'CONTROL'

<WlanScreen>
    name: 'wlan'
    Label:
        text: 'WLAN'

<DroneRoot>:
    MyScreenManager:
        id: sm
        StartScreen:
        ConnectionScreen:
        ControlScreen:
        WlanScreen:

